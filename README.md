# home-music-stream

[English version (README.en.md)](./README.en.md)

**home-music-stream** は、PC内の音楽ライブラリを家庭内ネットワーク上のどのデバイスからでも手軽に再生できるように設計された、軽量で直感的な音楽ストリーミングサーバーです。

## 特徴

- **直感的なインターフェース:** アーティスト名やアルバム名でライブラリをブラウズできます。
- **即座に再生:** 聴きたい曲をその場ですぐに選択して再生できます。
- **プレイリスト管理:** UIから直接プレイリストをサクッと作成・管理できます。
- **簡単アップロード:** ブラウザから楽曲やフォルダを直接ドラッグ＆ドロップ、またはダイアログ選択でサーバーへアップロードできます（自動的にフォルダ構成を整理）。
- **マルチデバイス対応:** PCでサーバーを立てれば、スマホやタブレットのブラウザから音楽を楽しめます。

## 開発の背景

既存の音楽サーバーは多機能すぎて重かったり、自分のPCにある楽曲フォルダの構造をそのまま直感的に扱えるものが少なかったりしました。
「もっと手軽に、即座に、PCの中の曲を他の部屋でも聴きたい」という思いから、以下の点にこだわって開発しました。

- PCの音楽フォルダ構成をそのまま反映。
- 思い立った時にその場でプレイリストを作成。
- 複雑な同期設定なしで、デバイス間をシームレスに繋ぐ。

## 設定 (Configuration)

`.env`ファイルを作成することで、起動ポートや楽曲保存ディレクトリをカスタマイズできます。

1. `.env.example`を`.env`にコピーします。
2. 必要に応じて`.env`内の値を編集します。

主な設定項目:
- `PORT`: サーバーの起動ポート (デフォルト: 5000)
- `MUSIC_DIR`: 楽曲ファイルの保存ディレクトリ (デフォルト: static/music)
- `SECRET_KEY`: Flaskのセッション用シークレットキー
- `ADMIN_USERNAME`: 初期管理者ユーザー名
- `ADMIN_PASSWORD`: 初期管理者パスワード

## セットアップと使用方法

### 事前準備
- Python 3.x がインストールされていること。
- 音楽ファイル（MP3/WAV）が `static/music/` フォルダにあること。

### ディレクトリ構成
音楽ファイルは以下のルールで配置してください：
```
static/music/
  ├── アーティスト名/
  │   ├── アルバム名/
  │   │   ├── 曲名1.mp3
  │   │   └── 曲名2.mp3
```

### サーバーの起動

**Windowsの場合:**
`run.bat` をダブルクリックしてください。

**Linux/macOSの場合:**
以下のコマンドを実行してください：
```bash
chmod +x run.sh
./run.sh
```

スクリプトが自動的に仮想環境の構築、依存ライブラリのインストールを行い、サーバーを起動します。

### アプリへのアクセス
ブラウザを開き、以下のURLにアクセスしてください：
`http://localhost:5000` （またはホストマシンのIPアドレス）

### デフォルトのログイン情報
- **ユーザー名:** `admin`
- **パスワード:** `pass0000`

*注: 本番環境で使用する場合は、`app.py` 内の秘密鍵やデフォルトのパスワードを変更してください。*